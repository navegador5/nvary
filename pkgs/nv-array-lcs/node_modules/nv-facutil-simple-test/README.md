nv-facutil-simple-test
======================
- nv-facutil-simple-test simple test tools 


install
=======
- npm install nv-facutil-simple-test 

usage
=====

    const {sync,async,Ahook} = require("nv-facutil-simple-test")


    
example
-------

### sync

    function tst0(ary0,ary1) {
        ary0.concat(ary1)
    }

    > sync(10000000,tst0,[1,2],[3,4,5])
    { rounds: 10000000, f: [Function: tst0], costed: 2894.0468668937683 }
    >


### async

     function tst1(delay) {
         let p = new Promise(
             (rs,rj)=> {
                 setTimeout(()=>{rs(true)},delay)
             }
         );
         return(p)
     }

     var p = async(5,tst1,3000)

     > p
     Promise { <pending> }
     > p
     Promise {
       { rounds: 5, f: [Function: tst1], costed: 15013.968754768372 }
     }
     >


### Ahook
- only work in nodejs, coz it use async\_hook

#### 

     var a = new Ahook();
     a.enable();

     > a.lst_
     {
       id: 222,
       type: 'TickObject',
       trigger: 5,
       resource: {
         callback: [Function: afterWriteTick],
         args: [ [Object] ],
         [Symbol(async_id_symbol)]: 222,
         [Symbol(trigger_async_id_symbol)]: 5
       }
     }
     > a.Timeout_
     [
       {
         id: 201,
         type: 'Timeout',
         trigger: 5,
         resource: Timeout {
           _idleTimeout: 15,
           _idlePrev: null,
           _idleNext: null,
           _idleStart: 75616,
           _onTimeout: [Function: flushHistory],
           _timerArgs: undefined,
           _repeat: null,
           _destroyed: true,
           [Symbol(refed)]: true,
           [Symbol(kHasPrimitive)]: false,
           [Symbol(asyncId)]: 201,
           [Symbol(triggerId)]: 5
         }
       },
       {
         id: 202,
         type: 'Timeout',
         trigger: 5,
         resource: {
           callback: [Function: maybeReadMore_],
           args: [Array],
           [Symbol(async_id_symbol)]: 202,
           [Symbol(trigger_async_id_symbol)]: 5
         }
       },
       ......
     ]

     a.disable();


METHODS
=======

### 
    Ahook.prototype.enable
    Ahook.prototype.disable
    Ahook.prototype.clear

### getter

    Ahook.prototype.FSEVENTWRAP_          Ahook.prototype.FSREQCALLBACK_
    Ahook.prototype.GETADDRINFOREQWRAP_   Ahook.prototype.GETNAMEINFOREQWRAP_
    Ahook.prototype.HTTPCLIENTREQUEST_    Ahook.prototype.HTTPINCOMINGMESSAGE_
    Ahook.prototype.Immediate_            Ahook.prototype.JSSTREAM_
    Ahook.prototype.Microtask_            Ahook.prototype.PBKDF2REQUEST_
    Ahook.prototype.PIPECONNECTWRAP_      Ahook.prototype.PIPEWRAP_
    Ahook.prototype.PROCESSWRAP_          Ahook.prototype.PROMISE_
    Ahook.prototype.QUERYWRAP_            Ahook.prototype.RANDOMBYTESREQUEST_
    Ahook.prototype.SHUTDOWNWRAP_         Ahook.prototype.SIGNALWRAP_
    Ahook.prototype.SSLCONNECTION_        Ahook.prototype.STATWATCHER_
    Ahook.prototype.TCPCONNECTWRAP_       Ahook.prototype.TCPSERVERWRAP_
    Ahook.prototype.TCPWRAP_              Ahook.prototype.TLSWRAP_
    Ahook.prototype.TTYWRAP_              Ahook.prototype.TickObject_
    Ahook.prototype.Timeout_              Ahook.prototype.UDPSENDWRAP_
    Ahook.prototype.UDPWRAP_              Ahook.prototype.WRITEWRAP_
    Ahook.prototype.ZLIB_                 
    
    Ahook.prototype.all_
    Ahook.prototype.length_               
    Ahook.prototype.lst_



API
====
- sync(rounds,f,...args)
- async(rounds,f,...args)

LICENSE
=======
- ISC 
