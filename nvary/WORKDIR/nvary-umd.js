!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).nvary=n()}(this,function(){"use strict";function t(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var n={use:function(t,n){return Array.from({length:t}).map(t=>n)},range:function(n,t,e=1){let r=Array.from({length:t-n});return r=[...r.keys()].map(t=>t+n),r.filter((t,n)=>n%e==0)},mul:function(n,t){return Array.from({length:t}).map(t=>n).flat()}};const e=t=>t.length-1;function o(t,n){if(0<=n&&n<t.length)return n}function r(t){return 0===(t=t.length)?[]:t%2?[(t-1)/2]:[t/2-1,t/2]}function i(t){return r(t)[0]}function u(t){return(t=r(t)).length<2?t[0]:t[1]}var l={eq:function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0},bin:function(n,t,e=!0){n=n.toString(2);let r=Array.from(n).map(t=>parseInt(t));if(0<(n=(t=void 0===t?r.length:t)-r.length)){let t=Array.from({length:n}).map(t=>0);return e?t.concat(r):r.concat(t)}return e?r.slice(0,t):r.slice(-n)},clear:t=>t.splice(0,1/0),head:t=>t[0],tail:t=>t.slice(1),mid:t=>t.slice(1,e(t)),init:t=>t.slice(0,e(t)),lsti:e,lst:t=>t[e(t)],slst:(t,n)=>{t[t[__l]-1]=n},uniform_index:function(t,n){return n<0?n%t.length+t.length:n>=t.length?t.length-1:n},validate_index:o,validate_value:function(t,n){if(0<=t.indexOf(n))return n},validate_vi:function(t,n){var e=n.i,r=n.v;if(void 0!==o(t,e)&&t[e]===r)return n},some:function(t,...e){return t.filter((t,n)=>e.includes(n))},some_not:function(t,...e){return t.filter((t,n)=>!e.includes(n))},interval:function(t,e){return t.filter((t,n)=>n%e==0)},odd:t=>t.filter((t,n)=>n%2),even:t=>t.filter((t,n)=>!(n%2)),freq:function(t,n){let e=0;for(var r of t)r===n&&(e+=1);return e},combine:function(...n){let t=Array.from({length:n[0].length});return t=t.map((t,e)=>{let r={};return n.forEach((t,n)=>{r[n]=t[e]}),r}),t},mid_index_pair:r,mid_index_left:i,mid_index_right:u,mid_value_pair:function(n){let t=r(n),e=[];return t.forEach(t=>{e.push(n[t])}),e},mid_value_left:function(t){return t[i(t)]},mid_value_right:function(t){return t[u(t)]},ibfr:(t,n,e)=>(t.splice(n,0,e),t),iaft:(t,n,e)=>(t.splice(n+1,0,e),t),rm:(t,n)=>{var e=t[n];return t.splice(n,1),e},rplc:(t,n,e)=>t[n]=e,cp:t=>t.slice(0),to_map:function(t){return new Map(Object.entries(t))},to_wmap:function(n){let e=new WeakMap;for(let t=0;t<n.length;t++)e.set(n[t],t);return e},is_hole_element_at:function(t,e){let r=empty;return t.forEach((t,n)=>{n===e&&(r=n)}),r==empty},get_nonhole_indexes:function(t){return t.map((t,n)=>n).filter(t=>void 0!==t)},get_hole_indexes:function(n){let e=get_ary_nonhole_indexes(n),r=[];for(let t=0;t<n.length;t++)e.includes(t)||r.push(t);return r},has_hole:function(t){return get_ary_nonhole_indexes(t).length!==t.length},fill_hole:function(n,e=void 0){let r=get_ary_nonhole_indexes(n);for(let t=0;t<n.length;t++)r.includes(t)||(n[t]=e);return n}};function f(r){return function(t,n,...e){return!r(t,n,...e)}}function*c(n,e,...r){for(let t=0;t<n.length;t++)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function*a(n,e,...r){for(let t=n.length-1;-1<t;t--)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function s(t,n,...e){e=c(t,n,...e);return Array.from(e)}function _(t,n,e,r,...o){var i;let u=0;for(i of t(e,r,...o)){if(u===n)return i;u+=1}}function h(t,n,e,...r){return _(c,n,t,e,...r)}function m(t,n,e,...r){return _(a,n,t,e,...r)}function p(t,n,e,...r){return h(t,n,e=f(e),...r)}function v(t,n,e,...r){return m(t,n,e=f(e),...r)}function d(t,n,e,r,...o){let i=[];var u;let l=0;for(u of t(n,r,...o))e.includes(l)&&i.push(u),l+=1;return i}var g={fst:function(t,n,...e){return h(t,0,n,...e)},fst_not:function(t,n,...e){return p(t,0,n,...e)},lst:function(t,n,...e){return m(t,0,n,...e)},lst_not:function(t,n,...e){return v(t,0,n,...e)},which:h,which_not:p,which_from_lst:m,which_not_from_lst:v,some:function(t,n,e,...r){return d(c,t,n,e,...r)},some_not:function(t,n,e,...r){return d(c,t,n,e=f(e),...r)},some_from_lst:function(t,n,e,...r){return d(a,t,n,e,...r)},some_not_from_lst:function(t,n,e,...r){return d(a,t,n,e=f(e),...r)},all:s,all_not:function(t,n,...e){return s(t,n=f(n),...e)}};function y(r){return function(t,n,...e){return!r(t,n,...e)}}function*b(n,e,...r){for(let t=0;t<n.length;t++)e(n[t],t,...r)&&(yield t)}function*w(n,e,...r){for(let t=n.length-1;-1<t;t--)e(n[t],t,...r)&&(yield t)}function O(t,n,...e){e=b(t,n,...e);return Array.from(e)}function j(t,n,e,r,...o){var i;let u=0;for(i of t(e,r,...o)){if(u===n)return i;u+=1}}function E(t,n,e,...r){return j(b,n,t,e,...r)}function x(t,n,e,...r){return j(w,n,t,e,...r)}function A(t,n,e,...r){return E(t,n,e=y(e),...r)}function S(t,n,e,...r){return x(t,n,e=y(e),...r)}function P(t,n,e,r,...o){let i=[];var u;let l=0;for(u of t(n,r,...o))e.includes(l)&&i.push(u),l+=1;return i}var k={fst:function(t,n,...e){return E(t,0,n,...e)},fst_not:function(t,n,...e){return A(t,0,n,...e)},lst:function(t,n,...e){return x(t,0,n,...e)},lst_not:function(t,n,...e){return S(t,0,n,...e)},which:E,which_not:A,which_from_lst:x,which_not_from_lst:S,some:function(t,n,e,...r){return P(b,t,n,e,...r)},some_not:function(t,n,e,...r){return P(b,t,n,e=y(e),...r)},some_from_lst:function(t,n,e,...r){return P(w,t,n,e,...r)},some_not_from_lst:function(t,n,e,...r){return P(w,t,n,e=y(e),...r)},all:O,all_not:function(t,n,...e){return O(t,n=y(n),...e)}};function q(r){return function(t,n,...e){return!r(t,n,...e)}}function*M(n,e,...r){for(let t=0;t<n.length;t++)e(n[t],t,...r)&&(yield n[t])}function*T(n,e,...r){for(let t=n.length-1;-1<t;t--)e(n[t],t,...r)&&(yield n[t])}function L(t,n,...e){e=M(t,n,...e);return Array.from(e)}function C(t,n,e,r,...o){var i;let u=0;for(i of t(e,r,...o)){if(u===n)return i;u+=1}}function z(t,n,e,...r){return C(M,n,t,e,...r)}function D(t,n,e,...r){return C(T,n,t,e,...r)}function I(t,n,e,...r){return z(t,n,e=q(e),...r)}function R(t,n,e,...r){return D(t,n,e=q(e),...r)}function $(t,n,e,r,...o){let i=[];var u;let l=0;for(u of t(n,r,...o))e.includes(l)&&i.push(u),l+=1;return i}var F={fst:function(t,n,...e){return z(t,0,n,...e)},fst_not:function(t,n,...e){return I(t,0,n,...e)},lst:function(t,n,...e){return D(t,0,n,...e)},lst_not:function(t,n,...e){return R(t,0,n,...e)},which:z,which_not:I,which_from_lst:D,which_not_from_lst:R,some:function(t,n,e,...r){return $(M,t,n,e,...r)},some_not:function(t,n,e,...r){return $(M,t,n,e=q(e),...r)},some_from_lst:function(t,n,e,...r){return $(T,t,n,e,...r)},some_not_from_lst:function(t,n,e,...r){return $(T,t,n,e=q(e),...r)},all:L,all_not:function(t,n,...e){return L(t,n=q(n),...e)}};function*N(n,e){for(let t=0;t<n.length;t++)n[t]===e&&(yield t)}function*U(n,e){for(let t=n.length-1;-1<t;t--)n[t]===e&&(yield t)}function B(t,n,e,r){var o;let i=0;for(o of t(n,e)){if(i===r)return o;i+=1}}function G(t,n,e){return B(N,t,n,e)}function H(t,n,e){return B(U,t,n,e)}function V(t,n,e,...r){let o=[];var i;let u=0;for(i of t(n,e))r.includes(u)&&o.push(i),u+=1;return o}var W={fst:function(t,n){return G(t,n,0)},lst:function(t,n){return H(t,n,0)},which:G,which_from_lst:H,some:function(t,n,...e){return V(N,t,n,...e)},some_from_lst:function(t,n,...e){return V(U,t,n,...e)},all:function(t,n){return n=N(t,n),Array.from(n)}};const X=l;function J(t,e,...r){let n=t.map((t,n)=>e(t,n,...r));return n.every(t=>t)}function K(t,e,...r){let n=t.map((t,n)=>!e(t,n,...r));return n.every(t=>t)}function Q(t,n,e,...r){if(void 0!==(n=X.validate_index(t,n)))return!!e(t[n],n,...r)}function Y(t,n,e,...r){if(void 0!==(n=X.validate_index(t,n)))return!!!e(t[n],n,...r)}var Z={all:J,all_not:K,every:function(t,n,...e){return J(t,n,...e)},every_not:function(t,n,...e){return K(t,n,...e)},any:function(n,e,...r){for(let t=0;t<n.length;t++)if(e(n[t],t,...r))return!0;return!1},any_not:function(n,e,...r){for(let t=0;t<n.length;t++)if(!e(n[t],t,...r))return!0;return!1},at_most_several:function(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++)if(r(n[t],t,...o)){if(i>e)return!1;i+=1}return!0},at_most_several_not:function(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++)if(!r(n[t],t,...o)){if(i>e)return!1;i+=1}return!0},several:function(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++)if(r(n[t],t,...o)){if(i>e)return!1;i+=1}return i===e},several_not:function(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++)if(!r(n[t],t,...o)){if(i>e)return!1;i+=1}return i===e},at_least_several:function(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++)if(r(n[t],t,...o)){if(i>=e)return!0;i+=1}return!1},at_least_several_not:function(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++)if(!r(n[t],t,...o)){if(i>=e)return!0;i+=1}return!1},fst:function(t,n,...e){return Q(t,0,n,...e)},fst_not:function(t,n,...e){return Y(t,0,n,...e)},which:Q,which_not:Y,lst:function(t,n,...e){return Q(t,t.length-1,n,...e)},lst_not:function(t,n,...e){return Y(t,t.length-1,n,...e)},at_most_some:function(n,e,r,...o){for(let t=0;t<n.length;t++){var i=e.includes(t);if(!i&&r(n[t],t,...o))return!1}return!0},at_most_some_not:function(n,e,r,...o){for(let t=0;t<n.length;t++){var i=e.includes(t);if(!i&&!r(n[t],t,...o))return!1}return!0},some:function(n,e,r,...o){if(!(e=e.map(t=>X.validate_index(n,t))).includes(void 0)){for(let t=0;t<n.length;t++)if(e.includes(t)){if(!r(n[t],t,...o))return!1}else if(r(n[t],t,...o))return!1;return!0}},some_not:function(n,e,r,...o){if(!(e=e.map(t=>X.validate_index(n,t))).includes(void 0)){for(let t=0;t<n.length;t++)if(e.includes(t)){if(r(n[t],t,...o))return!1}else if(!r(n[t],t,...o))return!1;return!0}},at_least_some:function(n,t,e,...r){if(!(t=t.map(t=>X.validate_index(n,t))).includes(void 0))return J(X.some(n,...t),e,...r)},at_least_some_not:function(n,t,e,...r){if(!(t=t.map(t=>X.validate_index(n,t))).includes(void 0))return K(X.some(n,...t),e,...r)}};function tt(r){return function(t,n,...e){return!r(t,n,...e)}}function*nt(n,e,...r){for(let t=0;t<n.length;t++)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function*et(n,e,...r){for(let t=n.length-1;-1<t;t--)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function rt(t,n,...e){let r=Array.from(nt(t,n,...e)),o=r.map(t=>t.i);e=t.filter((t,n)=>!o.includes(n));return t.splice(0,1/0,...e),r.map(t=>t.v)}function ot(t,n,e,r,...o){var i;let u=0;for(i of t(e,r,...o)){if(u===n){var l=i.v;return e.splice(i.i,1),l}u+=1}}function it(t,n,e,...r){return ot(nt,n,t,e,...r)}function ut(t,n,e,...r){return ot(et,n,t,e,...r)}function lt(t,n,e,...r){return it(t,n,e=tt(e),...r)}function ft(t,n,e,...r){return ut(t,n,e=tt(e),...r)}function ct(t,n,e,r,...o){let i=[];var u;let l=0;for(u of t(n,r,...o))e.includes(l)&&i.push(u),l+=1;let f=i.map(t=>t.i);o=n.filter((t,n)=>!f.includes(n));return n.splice(0,1/0,...o),i.map(t=>t.v)}var at={fst:function(t,n,...e){return it(t,0,n,...e)},fst_not:function(t,n,...e){return lt(t,0,n,...e)},lst:function(t,n,...e){return ut(t,0,n,...e)},lst_not:function(t,n,...e){return ft(t,0,n,...e)},which:it,which_not:lt,which_from_lst:ut,which_not_from_lst:ft,some:function(t,n,e,...r){return ct(nt,t,n,e,...r)},some_not:function(t,n,e,...r){return ct(nt,t,n,e=tt(e),...r)},some_from_lst:function(t,n,e,...r){return ct(et,t,n,e,...r)},some_not_from_lst:function(t,n,e,...r){return ct(et,t,n,e=tt(e),...r)},all:rt,all_not:function(t,n,...e){return rt(t,n=tt(n),...e)}};function st(t,e){var n=t[e],r=t.filter((t,n)=>n!==e);return t.splice(0,1/0,...r),n}const _t=at,ht=function(t,n,...e){return t===e[0]};var mt={fst:function(t,n){return _t.fst(t,ht,n)},fst_not:function(t,n){return _t.fst_not(t,ht,n)},lst:function(t,n){return _t.lst(t,ht,n)},lst_not:function(t,n){return _t.lst_not(t,ht,n)},which:function(t,n,e){return _t.which(t,e,ht,n)},which_not:function(t,n,e){return _t.which_not(t,e,ht,n)},which_from_lst:function(t,n,e){return _t.which_from_lst(t,e,ht,n)},which_not_from_lst:function(t,n,e){return _t.which_not_from_lst(t,e,ht,n)},some:function(t,n,...e){return _t.some(t,e,ht,n)},some_not:function(t,n,...e){return _t.some_not(t,e,ht,n)},some_from_lst:function(t,n,...e){return _t.some_from_lst(t,e,ht,n)},some_not_from_lst:function(t,n,...e){return _t.some_not_from_lst(t,e,ht,n)},all:function(t,n){return _t.all(t,ht,n)},all_not:function(t,n){return _t.all_not(t,ht,n)}};function pt(r){return function(t,n,...e){return!r(t,n,...e)}}function*vt(n,e,...r){for(let t=0;t<n.length;t++)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function*dt(n,e,...r){for(let t=n.length-1;-1<t;t--)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function gt(t,n,...e){let r=Array.from(vt(t,n,...e)),o=r.map(t=>t.i);e=t.filter((t,n)=>!o.includes(n));return t.splice(0,1/0,...e),t}function yt(t,n,e,r,...o){var i;let u=0;for(i of t(e,r,...o)){if(u===n){var l=i.v;return e.splice(i.i,1),l}u+=1}}function bt(t,n,e,...r){return yt(vt,n,t,e,...r),t}function wt(t,n,e,...r){return yt(dt,n,t,e,...r),t}function Ot(t,n,e,...r){return bt(t,n,e=pt(e),...r)}function jt(t,n,e,...r){return wt(t,n,e=pt(e),...r)}function Et(t,n,e,r,...o){let i=[];var u;let l=0;for(u of t(n,r,...o))e.includes(l)&&i.push(u),l+=1;let f=i.map(t=>t.i);o=n.filter((t,n)=>!f.includes(n));return n.splice(0,1/0,...o),n}var xt={fst:function(t,n,...e){return bt(t,0,n,...e)},fst_not:function(t,n,...e){return Ot(t,0,n,...e)},lst:function(t,n,...e){return wt(t,0,n,...e)},lst_not:function(t,n,...e){return jt(t,0,n,...e)},which:bt,which_not:Ot,which_from_lst:wt,which_not_from_lst:jt,some:function(t,n,e,...r){return Et(vt,t,n,e,...r)},some_not:function(t,n,e,...r){return Et(vt,t,n,e=pt(e),...r)},some_from_lst:function(t,n,e,...r){return Et(dt,t,n,e,...r)},some_not_from_lst:function(t,n,e,...r){return Et(dt,t,n,e=pt(e),...r)},all:gt,all_not:function(t,n,...e){return gt(t,n=pt(n),...e)}};function At(t,e){var n=t.filter((t,n)=>n!==e);return t.splice(0,1/0,...n),t}const St=xt,Pt=function(t,n,...e){return t===e[0]};var kt={fst:function(t,n){return St.fst(t,Pt,n)},fst_not:function(t,n){return St.fst_not(t,Pt,n)},lst:function(t,n){return St.lst(t,Pt,n)},lst_not:function(t,n){return St.lst_not(t,Pt,n)},which:function(t,n,e){return St.which(t,e,Pt,n)},which_not:function(t,n,e){return St.which_not(t,e,Pt,n)},which_from_lst:function(t,n,e){return St.which_from_lst(t,e,Pt,n)},which_not_from_lst:function(t,n,e){return St.which_not_from_lst(t,e,Pt,n)},some:function(t,n,...e){return St.some(t,e,Pt,n)},some_not:function(t,n,...e){return St.some_not(t,e,Pt,n)},some_from_lst:function(t,n,...e){return St.some_from_lst(t,e,Pt,n)},some_not_from_lst:function(t,n,...e){return St.some_not_from_lst(t,e,Pt,n)},all:function(t,n){return St.all(t,Pt,n)},all_not:function(t,n){return St.all_not(t,Pt,n)}},qt=t(Object.freeze({__proto__:null}));const{uniform_index:Mt}=l;var Tt={concat:function(t,n){return t=t.slice(0),Array.prototype.push.apply(t,n),t},ipop:function(t,e){return[t[e],t.filter((t,n)=>n!==e)]},splice:function(n,t,e,r){if(t>=n.length){for(let t=0;t<r.length;t++)n.push(r[t]);return[]}var o=t=Mt(n,t);let i=t+(e=e<0?0:e);i>=n.length&&(i=n.length),e=i-o;var u=n.slice(o,i),l=i,f=n.length,c=f-l;if(0<(t=r.length-e)){var a=t;for(let t=f-1;t>l-1;t--)n[t+a]=n[t];for(let t=o;t<o+r.length;t++)n[t]=r[t-o]}else{var s=e-r.length;for(let t=o;t<o+r.length;t++)n[t]=r[t-o];for(let t=o+r.length;t<o+r.length+c;t++)n[t]=n[l+t-o-r.length];for(let t=0;t<s;t++)n.pop()}return u},fst_index_of:function(n,e,r,o){o=o??n.length;for(let t=r=r??0;t<o;t++)if(n[t]===e)return t;return-1},prextend_cp:function(t,n){return n.concat(t)},extend_inplace:function(n,e){for(let t=0;t<e.length;t++)n.push(e[t]);return n},init_enlarge_cp:function(t,n){let e=Array.from({length:n});return e.concat(t)},tail_enlarge_inplace:function(n,e){for(let t=0;t<e;t++)n.push(void 0);return n}};const{splice:Lt}=Tt,Ct=(t,n)=>n<t?1:t<n?-1:0;function zt(e,r,o=Ct){let t=e.map((t,n)=>[e[n],r[n]]);return t.sort((t,n)=>o(t[1],n[1])),t=t.map(t=>t[0]),e.splice(0,1/0,...t),r.sort(o),e}function Dt(n,e){if(e<n[0])return[void 0,0];for(let t=0;t<n.length;t++)if(n[t]>e)return[t-1,t];return n[n.length-1]===e?[n.length-1,void 0]:[void 0,void 0]}function It(n,e){if(e<n[0])return[void 0,n[0]];for(let t=0;t<n.length;t++)if(n[t]>e)return[n[t-1],n[t]];return n[n.length-1]===e?[e,void 0]:[void 0,void 0]}const Rt=(t,n,e)=>n<=t&&t<e;var $t={num:function(t){return t.sort((t,n)=>t-n),t},slice:function(t,n,e,r=Ct){let o=t.slice(n,e);return o.sort(r),t.splice(n,e-n,...o),t},ref:zt,some:function(t,e,n=Ct){var r,o=t.filter((t,n)=>e.includes(n));let i=t.map((t,n)=>n);for(r in i=i.filter(t=>e.includes(t)),i=zt(i,o,Ct),i.sort(),i)t[i[r]]=o[r];return t},bat:function(e,r,o=Ct){let i=arr.map((t,n)=>[r[n],...e.map(t=>t[n])]);return i.sort((t,n)=>o(t[0],n[0])),e.forEach((t,n)=>{t.splice(0,1/0,...i.map(t=>t[n+1]))}),r.sort(o),e},wherei:Dt,wherev:It,lbi:function(t,n){return Dt(t,n)[0]},lbv:function(t,n){return It(t,n)[0]},ubi:function(t,n){return Dt(t,n)[1]},ubv:function(t,n){return It(t,n)[1]},DFLT_GELT:Rt,bsrch_fsti:function(t,n,e=Rt){let r=0,o=t.length;for(;2<o-r;){var i=o-r,i=r+(i>>1);e(n,t[r],t[i])?o=i:r=i}return o-r==0?-1:o-r==1?t[r]===n?r:-1:t[r]===n?r:t[r+1]===n?r+1:-1},merge_sorted:function(e,t=(t,n)=>0<t-n){for(var n=[],r=0;r<e.length;r++)n.push([r,0]),n.sort((t,n)=>e[t[0]][t[1]]-e[n[0]][n[1]]);for(var o=[];0<n.length;){o.push(e[n[0][0]][n[0][1]]);var i=n.shift();if(i[1]=i[1]+1,!(i[1]>=e[i[0]].length)){for(var u=n.length,l=e[i[0]][i[1]],r=0;r<n.length;r++)if(t(e[n[r][0]][n[r][1]],l)){u=r;break}Lt(n,u,0,[i])}}return o},match_partial_order:function(n,e,r=(t,n)=>t){let o=0;for(let t=0;t<e.length;t++){var i=n.indexOf(r(e[t],t));if(!(i>=o))return!1;o=i}return!0}};function Ft(r){return function(t,n,...e){return!r(t,n,...e)}}function*Nt(t,n,...e){let r,o;for(o=0;o<t.length;o++)n(t[o],o,...e)?void 0!==r||(r=o):void 0!==r&&(yield[r,o],r=void 0);void 0!==r&&(yield[r,o],r=void 0)}function*Ut(t,n,...e){let r,o;for(o=t.length-1;-1<o;o--)n(t[o],o,...e)?void 0!==r||(r=o):void 0!==r&&(yield[o+1,r+1],r=void 0);void 0!==r&&(yield[0,r+1],r=void 0)}function Bt(t,n,e,r,...o){var i;let u=0;for(i of t(n,r,...o)){if(u===e)return i;u+=1}}function Gt(t,n,e,...r){return Bt(Nt,t,n,e,...r)}function Ht(t,n,...e){var r;for(r of Nt(t,n,...e))return r}function Vt(t,n,...e){var r;for(r of Ut(t,n,...e))return r}function Wt(t,n,e,...r){return Bt(Ut,t,n,e,...r)}function Xt(t,n,e,r,...o){e=e.filter(t=>0<=t&&t<n.length);let i=[],u=0;var l;for(l of t(n,r,...o))e.includes(u)&&i.push(l),u+=1;return i}function Jt(t,n,e,...r){return Xt(Nt,t,n,e,...r)}function Kt(t,n,e,...r){return Xt(Ut,t,n,e,...r)}function Qt(t,n,...e){e=Nt(t,n,...e);return Array.from(e)}var Yt={fst:Ht,fst_not:function(t,n,...e){return Ht(t,n=Ft(n),...e)},which:Gt,which_not:function(t,n,e,...r){return Gt(t,n,e=Ft(e),...r)},lst:Vt,lst_not:function(t,n,...e){return Vt(t,n=Ft(n),...e)},which_from_lst:Wt,which_not_from_lst:function(t,n,e,...r){return Wt(t,n,e=Ft(e),...r)},some:Jt,some_not:function(t,n,e,...r){return Jt(t,n,e=Ft(e),...r)},some_from_lst:Kt,some_not_from_lst:function(t,n,e,...r){return Kt(t,n,e=Ft(e),...r)},all:Qt,all_not:function(t,n,...e){return Qt(t,n=Ft(n),...e)}};const Zt=Yt,tn=function(t,n,...e){return t===e[0]};var nn={fst:function(t,n){return Zt.fst(t,tn,n)},fst_not:function(t,n){return Zt.fst_not(t,tn,n)},which:function(t,n,e){return Zt.which(t,e,tn,n)},which_not:function(t,n,e){return Zt.which_not(t,e,tn,n)},lst:function(t,n){return Zt.lst(t,tn,n)},lst_not:function(t,n){return Zt.lst_not(t,tn,n)},which_from_lst:function(t,n,e){return Zt.which_from_lst(t,e,tn,n)},which_not_from_lst:function(t,n,e){return Zt.which_not_from_lst(t,e,tn,n)},some:function(t,n,...e){return Zt.some(t,e,tn,n)},some_not:function(t,n,...e){return Zt.some_not(t,e,tn,n)},some_from_lst:function(t,n,...e){return Zt.some_from_lst(t,e,tn,n)},some_not_from_lst:function(t,n,...e){return Zt.some_not_from_lst(t,e,tn,n)},all:function(t,n){return Zt.all(t,tn,n)},all_not:function(t,n){return Zt.all_not(t,tn,n)}};const en=l;function rn(t,n,e){var r;return void 0!==en.validate_index(t,n)&&void 0!==en.validate_index(t,e)&&(r=t[n],t[n]=t[e],t[e]=r),t}var on={iswap:rn,vswap:function(t,n,e){return n=t.indexOf(n),e=t.indexOf(e),rn(t,n,e)},viswap:function(t,n,e){return en.validate_vi(t,n)&&en.validate_vi(t,e)?rn(t,n.i,e.i):t},reindex:function(n,...e){var r=n.slice(0);for(let t=0;t<e.length;t++){var o=en.validate_index(n,e[t]);void 0!==o&&(n[o]=r[t])}return n}};const un=l;function ln(n,e,...r){for(let t=0;t<r.length;t++){var o=un.validate_index(n,r[t]);void 0!==o&&(n[o]=e)}return n}function fn(r){return function(t,n,...e){return!r(t,n,...e)}}function*cn(n,e,...r){for(let t=0;t<n.length;t++)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function*an(n,e,...r){for(let t=n.length-1;-1<t;t--)e(n[t],t,...r)&&(yield{i:t,v:n[t]})}function sn(n,e,t,...r){let o=Array.from(cn(n,t,...r)),i=o.map(t=>t.i);return i.forEach(t=>{n[t]=e}),n}function _n(t,n,e,r,o,...i){var u;let l=0;for(u of n(r,o,...i)){if(l===e)return r[u.i]=t,r;l+=1}}function hn(t,n,e,r,...o){return _n(n,cn,e,t,r,...o)}function mn(t,n,e,r,...o){return _n(n,an,e,t,r,...o)}function pn(t,n,e,r,...o){return hn(t,n,e,r=fn(r),...o)}function vn(t,n,e,r,...o){return mn(t,n,e,r=fn(r),...o)}function dn(n,t,e,r,o,...i){let u=[];var l;let f=0;for(l of t(e,o,...i))r.includes(f)&&u.push(l),f+=1;let c=u.map(t=>t.i);return c.forEach(t=>{e[t]=n}),e}var gn={fst:function(t,n,e,...r){return hn(t,n,0,e,...r)},fst_not:function(t,n,e,...r){return pn(t,n,0,e,...r)},lst:function(t,n,e,...r){return mn(t,n,0,e,...r)},lst_not:function(t,n,e,...r){return vn(t,n,0,e,...r)},which:hn,which_not:pn,which_from_lst:mn,which_not_from_lst:vn,some:function(t,n,e,r,...o){return dn(n,cn,t,e,r,...o)},some_not:function(t,n,e,r,...o){return dn(n,cn,t,e,r=fn(r),...o)},some_from_lst:function(t,n,e,r,...o){return dn(n,an,t,e,r,...o)},some_not_from_lst:function(t,n,e,r,...o){return dn(n,an,t,e,r=fn(r),...o)},all:sn,all_not:function(t,n,e,...r){return sn(t,n,e=fn(e),...r)}};const yn=gn,bn=function(t,n,...e){return t===e[0]};var wn={fst:function(t,n,e){return yn.fst(t,n,bn,e)},fst_not:function(t,n,e){return yn.fst_not(t,n,bn,e)},lst:function(t,n,e){return yn.lst(t,n,bn,e)},lst_not:function(t,n,e){return yn.lst_not(t,n,bn,e)},which:function(t,n,e,r){return yn.which(t,n,r,bn,e)},which_not:function(t,n,e,r){return yn.which_not(t,n,r,bn,e)},which_from_lst:function(t,n,e,r){return yn.which_from_lst(t,n,r,bn,e)},which_not_from_lst:function(t,n,e,r){return yn.which_not_from_lst(t,n,r,bn,e)},some:function(t,n,e,...r){return yn.some(t,n,r,bn,e)},some_not:function(t,n,e,...r){return yn.some_not(t,n,r,bn,e)},some_from_lst:function(t,n,e,...r){return yn.some_from_lst(t,n,r,bn,e)},some_not_from_lst:function(t,n,e,...r){return yn.some_not_from_lst(t,n,r,bn,e)},all:function(t,n,e){return yn.all(t,n,bn,e)},all_not:function(t,n,e){return yn.all_not(t,n,bn,e)}};const On=(t,n)=>t,jn=(t,n)=>t.length;function En(r,t,o,...i){let u=new Map,l=new Set;return t.forEach((t,n)=>{var e=o(t,n,...i);l.has(e)?u.get(e).push(r(t,n)):(l.add(e),u.set(e,[r(t,n)]))}),u}var xn={fgrpvi:function(t,n,...e){return En((t,n)=>({i:n,v:t}),t,n,...e)},fgrpi:function(t,n,...e){return En((t,n)=>n,t,n,...e)},fgrpv:function(t,n,...e){return En((t,n)=>t,t,n,...e)},vgrpvi:function(t,...n){return En((t,n)=>({i:n,v:t}),t,On,...n)},vgrpi:function(t,...n){return En((t,n)=>n,t,On,...n)},vgrpv:function(t,...n){return En((t,n)=>t,t,On,...n)},lgrpvi:function(t){return En((t,n)=>({i:n,v:t}),t,jn)},lgrpi:function(t){return En((t,n)=>n,t,jn)},lgrpv:function(t){return En((t,n)=>t,t,jn)},freq_grp:function(t){let n=new Map;for(var e of t){let t=n.get(e);t?t[0]=t[0]+1:n.set(e,[1])}return n}};function An(t){return Object.fromEntries(Object.entries(t))}function Sn(t){let n=Object.entries(t);return n=n.map(t=>[t[1],t[0]]),Object.fromEntries(n)}var Pn={vldict:function(t){let e={},r=new Set;return t.forEach((t,n)=>{r.has(t)?e[t].push(n):(r.add(t),e[t]=[n])}),e},vidict:Sn,ivdict:An,mdict:function(t,n="i"){var e=An(t),t=Sn(t);return"i"===n?Object.assign(t,e):Object.assign(e,t)}};function kn(t,n){return t.length>=n.length?[t.slice(0,n.length),n,t.slice(n.length)]:[t,n.slice(0,t.length),n.slice(t.length)]}var qn={align:kn,union:function(t,n){var[e,r,n]=kn(t,n);let o=[];for(let t=0;t<e.length;t++)o.includes(e[t])||o.push(e[t]);for(let t=0;t<r.length;t++)cond=o.includes(r[t]),cond||o.push(r[t]);return o=o.concat(n),o},diff:function(t,n){let[e,r,o]=kn(t,n),i=[];for(let t=0;t<e.length;t++)!i.includes(e[t])&&!r.includes(e[t])&&i.push(e[t]);return t.length>n.length&&(i=i.concat(o)),i},inter:function(t,n){let[e,r]=kn(t,n),o=[];for(let t=0;t<e.length;t++)!o.includes(e[t])&&r.includes(e[t])&&o.push(e[t]);return o}};const Mn=l,Tn=Symbol("dummy");function Ln(t){if(0===t.depth)return null;var n=t.ctrl.origi-1,e=0<=n?t.desc[n]:null,n=t.ctrl.cachei;return t.cache[n]=Tn,t.ctrl.cachei=null,t.ctrl=e,t.depth=t.depth-1,t}function Cn(t){var n=function(t){if(null===t.ctrl)return null;let n=t.ctrl.cachei+1,e=!1;for(;n<t.cache.length;){if(t.cache[n]===Tn){e=!0;break}n+=1}return e?n:null}(t);return null!==n?(t.cache[t.ctrl.cachei]=Tn,t.cache[n]=t.ctrl,t.ctrl.cachei=n,t):null}function zn(t){var n,e=0<=(n=(e=t).cache.indexOf(Tn))?(e.ctrl=e.desc[e.depth],e.ctrl.cachei=n,e.cache[n]=e.ctrl,e.depth=e.depth+1,e):null;if(null!==e)return e;var e=Cn(t);return null!==e?e:function(t){let n=Ln(t);for(;null!==n;){var e=Cn(n);if(null!==e)return e;n=Ln(n)}return n}(t)}var Dn={comb:function*(n){for(let t=0;t<2**n.length;t++){let e=Mn.bin(t,n.length).reverse();yield n.filter((t,n)=>1===e[n])}},perm:function*(t){let n=(e=t,t=Array.from({length:e.length}).map(t=>Tn),e=Object.entries(e).map(t=>[parseInt(t[0]),{origi:parseInt(t[0]),cachei:null,origv:t[1]}]),{desc:Object.fromEntries(e),cache:t,ctrl:null,depth:0});for(var e;null!==n;)0===n.cache.filter(t=>t===Tn).length&&(yield n.cache.map(t=>t.origv)),n=zn(n)}};const{eq:In}=l;function*Rn(n,e){if(n.length>=e.length){var r=n.length-e.length;for(let t=0;t<=r;t++){var o=t+e.length;In(n.slice(t,o),e)&&(yield[t,o])}}}var $n={slide_from_fst:Rn,slide_from_lst:function*(n,e){var t=n.length>=e.length;if(t)for(let t=n.length-e.length;-1<t;t--){var r=t+e.length;In(n.slice(t,r),e)&&(yield[t,r])}},has:function(t,n){var e;for(e of Rn(t,n))return!0;return!1}};const Fn=(t,n)=>t===n,Nn=(t,n)=>t!==n,Un=(t,n)=>n,Bn=(t,n)=>t,Gn=(t,n)=>({i:n,v:t});function*Hn(t,n,e,r,o){var i=n.length,u=e.length;if(u<=i){var l=e.length,i=n.slice(l,i).map((t,n)=>o(t,n));for(let t=0;t<l;t++)r(n[t],e[t])&&(yield o(n[t],t));if(!t)for(var f of i)yield f}else{var c=n.length;e.slice(c,u).map((t,n)=>o(t,n));for(let t=0;t<c;t++)r(n[t],e[t])&&(yield o(n[t],t))}}var Vn={samei:function(t,n){return n=Hn(!0,t,n,Fn,Un),Array.from(n)},samev:function(t,n){return n=Hn(!0,t,n,Fn,Bn),Array.from(n)},samevi:function(t,n){return n=Hn(!0,t,n,Fn,Gn),Array.from(n)},diffi:function(t,n){return n=Hn(!0,t,n,Nn,Un),Array.from(n)},diffv:function(t,n){return n=Hn(!0,t,n,Nn,Bn),Array.from(n)},diffvi:function(t,n){return n=Hn(!0,t,n,Nn,Gn),Array.from(n)}};const Wn=$n;function Xn(t,n,e,r){var o;let i=0;for(o of t(n,e)){if(i===r)return o;i+=1}}function Jn(t,n,e){return Xn(Wn.slide_from_fst,t,n,e)}function Kn(t,n,e){return Xn(Wn.slide_from_lst,t,n,e)}function Qn(t,n,e,...r){var o;let i=[],u=0;for(o of t(n,e))r.includes(u)&&i.push(o),u+=1;return i}var Yn={fst:function(t,n){return Jn(t,n,0)},which:Jn,lst:function(t,n){return Kn(t,n,0)},which_from_lst:Kn,some:function(t,n,...e){return Qn(Wn.slide_from_fst,t,n,...e)},some_from_lst:function(t,n,...e){return Qn(Wn.slide_from_lst,t,n,...e)},all:function(t,n){return n=Wn.slide_from_fst(t,n),Array.from(n)}};const Zn=l;var te={recycle:function(n,e=1/0){let r=new Set,o=[];const i=Symbol("dummy");for(let t=0;t<n.length;t++){if(r.size===e){var u=n.slice(0,t).filter(t=>t!==i);return n.splice(0,u.length,...u),o}r.has(n[t])?(o.push(n[t]),n[t]=i):r.add(n[t])}var t=n.filter(t=>t!==i);return n.splice(0,n.length,...t),o},uniq:function(n,e=1/0){let r=new Set,o=[];for(let t=0;t<n.length;t++){if(r.size===e)return o;r.has(n[t])||(r.add(n[t]),o.push(n[t]))}return o},ref_recycle:function(n,t,e=1/0){let r=Zn.combine(t,n),o=new Set,i=[];const u=Symbol("dummy");for(let t=0;t<r.length;t++){if(o.size===e){var l=r.slice(0,t).filter(t=>t!==u).map(t=>t[1]);return n.splice(0,l.length,...l),i.map(t=>t[1])}o.has(r[t][0])?(i.push(r[t]),r[t]=u):o.add(r[t][0])}return t=r.filter(t=>t!==u).map(t=>t[1]),n.splice(0,n.length,...t),i.map(t=>t[1])},ref_uniq:function(t,n,e=1/0){var r=Zn.combine(n,t);let o=new Set,i=[];for(let t=0;t<r.length;t++){if(o.size===e)return i.map(t=>t[1]);o.has(r[t][0])||(o.add(r[t][0]),i.push(r[t]))}return i.map(t=>t[1])}};const ne=Symbol("dummy");function ee(t){return Object.keys(t[0]).map(function(n){return t.map(function(t){return t[n]})})}function re(...t){var n=t.map(t=>t.length);let e=Math.max(...n);return(t=t.map(t=>t.slice(0))).forEach(t=>{var n=e-t.length,n=Array.from({length:n}).map(t=>ne);t.splice(t.length,0,...n)}),t}function oe(n,e){let r=[];var t=n.length%e,t=0==t?[]:Array.from({length:e-t}).map(t=>ne),o=(n=n.concat(t)).length/e;for(let t=0;t<o;t++){var i=n.slice(e*t,e*t+e);r.push(i)}return r}var ie={dummy:ne,fmt:re,mat:oe,transpose:ee,interleave:function(...t){return(t=ee(t=re(...t))).flat().filter(t=>t!==ne)},uninterleave:function(t,n){return ee(oe(t,n))}};const ue=(t,n)=>t-n;function le(n,...t){t.unshift(0),t.push(n),t=new Set(t),(t=Array.from(t)).sort(ue),t.filter(t=>t<n);let e=[],r=[void 0,void 0],o=0;for(;o<t.length-1;)r[0]=t[o],r[1]=t[o+1],e.push(r),o+=1,r=[void 0,void 0];return e}function fe(e,r){var t=e.length%r;e=e.slice(0,e.length-t);let n=Array.from({length:e.length/r});return n=n.map((t,n)=>e.slice(n*r,(n+1)*r)),n}function ce(t){return fe(t,2)}var ae={pair:ce,interval:fe,range:le,fullfill:function(t){let n=t.flat();return n=new Set(n),n=Array.from(n),n.sort(ue),le(n[n.length-1],...n)},supplement:function(t){let n=t.flat();n=new Set(n),n=Array.from(n),n.sort(ue);var e=n[0];return n=n.slice(1,n.length-1),t=ce(n),0===e||t.unshift([0,e]),t},compress:function(n){n=new Set(n),(n=Array.from(n)).sort(ue);let e=[],r=n[0],o=[r,void 0];for(let t=1;t<n.length;t++)n[t]===r+1||(o[1]=r+1,e.push(o),o=[n[t],void 0]),r=n[t];return r===o[0]?e.push([o[0],o[0]+1]):e.push([o[0],r+1]),e},uncompress:function(o){let t=o.map(t=>Array.from({length:t[1]-t[0]}));return t.forEach((e,r)=>{e.forEach((t,n)=>{e[n]=o[r][0]+n})}),t.flat()}};function se(n,e,r,...o){let i=0;for(let t=0;t<n.length;t++){if(!r(n[t],t,...o))break;if(i===e)break;i+=1}return n.splice(0,i),n}function _e(n,e,r,...o){let i=0;for(let t=n.length-1;-1<t;t--){if(!r(n[t],t,...o))break;if(i===e)break;i+=1}return n.splice(n.length-i,i),n}function he(t,n,e,...r){return t=_e(t=se(t,n,e,...r),n,e,...r)}var me={left:se,right:_e,both:he,lall:function(t,n,...e){return t=se(t,1/0,n,...e)},rall:function(t,n,...e){return t=_e(t,1/0,n,...e)},ball:function(t,n,...e){return t=he(t,1/0,n,...e)}};const pe=me,ve=(t,n,...e)=>t===e[0];var de={left:function(t,n,e){return pe.left(t,e,ve,n)},right:function(t,n,e){return pe.right(t,e,ve,n)},both:function(t,n,e){return pe.both(t,e,ve,n)},lall:function(t,n){return pe.lall(t,ve,n)},rall:function(t,n){return pe.rall(t,ve,n)},ball:function(t,n){return pe.ball(t,ve,n)}};const ge=ae;var ye={chunk:function(e,r){return Array.from({length:Math.ceil(e.length/r)},(t,n)=>e.slice(n*r,n*r+r))},cut:function(n,...t){let e=ge.range(...t);return e.map(t=>n.slice(t[0],t[1]))}};function be(n,e,r,o){for(let t=e;t<n.length;t+=r)n[t]=o;return n}function we(n,e,r,...o){let i=Object.entries(n);i=i.filter(t=>{return r(t[1],t[0],...o)});for(let t=0;t<i.length;t++){var u=i[t][0],l=i[t][1];n[u]=e(l,u,...o)}return n}function Oe(t,n,e,...r){return we(t,t=>n,e,...r)}var je={interval:be,odd:function(t,n){be(t,1,2,n)},even:function(t,n){be(t,0,2,n)},all:function(t,n){be(t,0,1,n)},some:function(n,e,...r){for(let t=0;t<n.length;t++)r.includes(t)&&(n[t]=e);return n},some_not:function(n,e,...r){for(let t=0;t<n.length;t++)r.includes(t)||(n[t]=e);return n},filter_map:we,filter:Oe,ifilter:function(t,n,e,...r){return Oe(t,n,function(t,...n){return e(void 0,t,...n)},...r)},vfilter:function(t,n,e,...r){return Oe(t,n,function(t,...n){return e(t,void 0,...n)},...r)}},Ee={exports:{}};!function(n){const o=Dn,u={e:"enumerable",w:"writable",c:"configurable",enumerable:"e",writable:"w",configurable:"c"};!function(){let t=function(){var t=o.comb(["e","w","c"]);let n=Array.from(t);n=n.filter(t=>0<t.length);let e=n.map(t=>[!0].concat(t));return t=n.map(t=>[!1].concat(t)),e.concat(t)}();t.forEach(t=>{t=function(t){let n=t[0],e=t.slice(1).map(t=>u[t]);var r=e.map(t=>[t,n]);let o=Object.fromEntries(r);return r=function(n,...t){t.forEach(t=>{Object.defineProperty(n,t,o)})},Object.defineProperty(r,"name",{value:(t=t)[0].toString()+"_"+t.slice(1).join("")}),r}(t);n.exports[t.name]=t}),n.exports.ABBR_MD=u}();const r=/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/;function f(t,n){return Object.getOwnPropertySymbols(t).find(t=>t.description===n)}function e(t){let i={enumerable:!1,configurable:!1},n=t.slice(1).map(t=>u[t]);var e=n.map(t=>[t,!0]),e=Object.fromEntries(e);Object.assign(i,e);let r;return r="def_get"===t[0]?function(t,n,e,...r){return function(t,n,e,r,...o){const i=f(n,e)??Symbol(e);var u=t.writable;return delete t.writable,Object.defineProperty(n,e,{...t,get:function(){return r(this,i,...o)}}),t.enumerable=!1,t.writable=u,Object.defineProperty(n,i,t),n}(i,t,n,e,...r)}:"def_set"===t[0]?function(t,n,e,...r){return function(t,n,e,r,...o){const i=f(n,e)??Symbol(e);var u=t.writable;return delete t.writable,Object.defineProperty(n,e,{...t,set:function(t){return r(this,i,t,...o)}}),t.enumerable=!1,t.writable=u,Object.defineProperty(n,i,t),n}(i,t,n,e,...r)}:function(t,n,e,r,...o){return function(t,n,e,r,o,...i){const u=f(n,e)??Symbol(e);console.log(t);var l=t.writable;return delete t.writable,Object.defineProperty(n,e,{...t,get:function(){return r(this,u,...i)},set:function(t){return o(this,u,t,...i)}}),t.enumerable=!1,t.writable=l,Object.defineProperty(n,u,t),n}(i,t,n,e,r,...o)},Object.defineProperty(r,"name",{value:(t=t)[0].toString()+"_"+t.slice(1).join("")}),r}n.exports.BUITIN_PROP_REGEX=r,n.exports.copy_props_from=function(n,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(t=>{t.match(r)||Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})},function(){let t=function(){var t=o.comb(["e","w","c"]);let n=Array.from(t);n=n.filter(t=>0<t.length);let e=n.map(t=>["def_get"].concat(t));var r=n.map(t=>["def_set"].concat(t)),t=n.map(t=>["def_gtst"].concat(t));return n=e.concat(r,t),n}();t.forEach(t=>{t=e(t);n.exports[t.name]=t})}()}(Ee);const{false_ewc:xe}=Ee.exports;function Ae(e){return Object.defineProperty(e,"length",{value:0,writable:!0,enumerable:!1,configurable:!1}),Object.setPrototypeOf(e,Array.prototype),e.clear=function(){for(;0<e.length;)e.pop()},e.from=function(...t){e.clear();let n=Array.from(...t);n.forEach(t=>e.push(t))},e.of=function(...t){e.clear();let n=Array.of(...t);n.forEach(t=>e.push(t))},xe(e,"clear","from","of"),Object.defineProperty(e,"name",{value:"",writable:!0,enumerable:!1,configurable:!1}),e}var Se={get_sec_with_num:function(n,e){let r=n[0];for(let t=0;t<n.length;t++){var o=n[t];if(!(o<=e)){r=n[t-1],ei=n[t];break}}return[r,ei]},get_sec_with_seq:function(t,n){return[t[n],t[n+1]]},get_seq_with_sec:function(t,n){return t.indexOf(n[0])},merge:function(n,e,r){let o=[],i=new Map,u=0;for(let t=0;t<n.length;t++){var l=n[t];if(!(l<e)){o.push(e),u=e!==n[t]?(i.set([n[t-1],e],[n[t-1],n[t]]),t):t+1;break}o.push(l)}for(let t=u;t<n.length;t++){var f=n[t];if(!(f<r)){o.push(r),u=r!==n[t]?(i.set([r,f],[n[t-1],n[t]]),t):t+1;break}}for(let t=u;t<n.length;t++)o.push(n[t]);return{narr:o,diff:i}}};const{has:Pe}=$n,{fst_index_of:ke}=Tt;var qe={start_with:function(n,e){if(e.length<=n.length){for(let t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}return!1},end_with:function(n,e){if(e.length<=n.length){var r=n.length-e.length;for(let t=e.length-1;t<e.length;t++)if(n[t+r]!==e[t])return!1;return!0}return!1},strict_include:function(t,n){return!(n.length>t.length)&&Pe(t,n)},loose_include:function(n,e){if(e.length>n.length)return!1;let r=0;for(let t=0;t<e.length;t++){var o=ke(n,e[t],r);if(!(0<=o))return!1;r=o}return!0}};class Me{#action=0;#val;get action(){return this.#action}get val(){return this.#val}yield(){this.#action=0}skip(){this.#action=1}remove(){this.#action=2}insert_before(t){this.#action=3,this.#val=t}insert_after(t){this.#action=4,this.#val=t}replace(t){this.#action=5,this.#val=t}reset(){this.#action=0,this.#val=void 0}}function*Te(t,n=(t,n,e)=>{}){const e=new Me;var r,o=t.length;let i=0,u=0;for(;i<o;)n(t[u],i,e),0===e.action?yield t[u]:1===e.action||(2===e.action?(t.splice(u,1),u-=1):3===e.action?(r=t[u],t.splice(u,0,e.val),yield e.val,yield r,u+=1):4===e.action?(yield t[u],yield e.val,t.splice(u+1,0,e.val),u+=1):(t[u]=e.val,yield t[u])),u+=1,i+=1,e.reset()}var Le={ACTION_DICT:{skip:"visitor.skip()",remove:"visitor.remove()",replace:"visitor.replace(new_value)",insert_before:"visitor.insert_before(val)",insert_after:"visitor.insert_after(val)"},gen:Te,visit:function(t,n=(t,n,e)=>{}){for(var e of Te(t,n));return t}};function Ce(u,t=0){let l=t,f=u.length;return[function(t=1){let n=[],e=0,r=(l+1)%f,o=r;for(;e<t;)o+=1,o===f&&(n.push([r,f]),r=0,o=0),e+=1;n.push([r,o]),l=(f+o-1)%f;let i=n.map(t=>u.slice(t[0],t[1]));return i.flat()},function(){return u[l]},function(t=1){let n=[],e=0,r=0===l?f:l,o=r;for(;e<t;)o-=1,0===o&&(n.unshift([o,r]),o=f,r=f),e+=1;n.unshift([o,r]),l=o%f;let i=n.map(t=>u.slice(t[0],t[1]));return i.flat()}]}var ze={more_less:Ce,from_fst:function(t){return Ce(t,t.length-1)},from_lst:function(t){return Ce(t,0)}};function De(t){return t.toUpperCase()===t}function Ie(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}function Re(t){return t[0].toUpperCase()+t.substr(1)}function $e(t){return t[0].toLowerCase()+t.substr(1)}function Fe(t){return t.split("_")}function Ne(t){let n=Fe(t),e=n.slice(1).map(t=>Ie(t));return e.unshift(n[0]),e.join("")}function Ue(t){let n=Fe(t);return n=n.map(t=>Ie(t)),n.join("")}function Be(t){return t.replace(/_/g,"-")}function Ge(t){let n=We(t=Re(t));return n[0]=$e(n[0]),n}function He(t){let n=Ge(t);return n=n.map(t=>t.toLowerCase()),n.join("_")}function Ve(t){return Be(He(t))}function We(n){let e=[],r="";for(let t=0;t<n.length;t++)De(n[t])?(""!==r&&e.push(r),r=n[t]):r+=n[t];return""!==r&&e.push(r),e}function Xe(t){let n=We(t);return n=n.map(t=>t.toLowerCase()),n.join("_")}function Je(t){return $e(t)}function Ke(t){return t.replace(/\-/g,"_")}var Qe={is_lower_case:function(t){return t.toLowerCase()===t},is_upper_case:De,upper_initial_and_lower_left:Ie,upper_initial:Re,lower_initial:$e,split_lsnake:Fe,lsnake_to_lcamel:Ne,lsnake_to_bcamel:Ue,lsnake_to_ldash:Be,split_lcamel:Ge,lcamel_to_lsnake:He,lcamel_to_bcamel:Re,lcamel_to_ldash:Ve,split_bcamel:We,bcamel_to_lsnake:Xe,bcamel_to_lcamel:Je,bcamel_to_ldash:function(t){return Ve(Je(t))},split_ldash:function(t){return t.split("-")},ldash_to_lsnake:Ke,ldash_to_lcamel:function(t){return Ne(Ke(t))},ldash_to_bcamel:function(t){return Ue(Ke(t))},builtinize:function(t){return"__"+t+"__"},pre_privatize:function(t){return"_"+t},post_privatize:function(t){return t+"_"},streamize:function(t){return t+"$"},jquerize:function(t){return"$"+t},globalize:function(t){return Xe(t=Ue(t=Ke(t))).toUpperCase()},rename:function(t,n){Object.defineProperty(t,"name",{value:n})},rename_cls:function(t,n){Object.defineProperty(t,"name",{value:Ie(n)})},del_clsname:function(t){Object.defineProperty(t,"name",{value:"‍"})},rename_clstag:function(t,n){Object.defineProperty(t.prototype,Symbol.toStringTag,{get:n})},rename_prototype:function(t,n,e){var r=t.prototype[n];delete t.prototype[n],t.prototype[e]=r}};const{rename_cls:Ye}=Qe;function Ze(t="E"){class n extends Event{#data;constructor(t,n){super(t),this.#data=n}get data(){return this.#data}set data(t){this.#data=t}}return Ye(n,t),n}const tr=Ze();function nr(t="ET"){class n extends EventTarget{#mp=new Map;addEventListener(t,n){super.addEventListener(t,n),this.#mp.set(t,n)}ls(){return this.#mp}removeEventListener(t){super.removeEventListener(t),this.#mp.delete(t)}dispatch(t,n){n=new tr(t,n);return this.dispatchEvent(n),n}}return Ye(n,t),n}Ee=nr(),Ee={creat_event_cls:Ze,E:tr,creat_event_target_cls:nr,ET:Ee};const{rename:er}=Qe,{ET:rr}=Ee;function or(n,t,e){var r=Object.getOwnPropertyDescriptors(n.prototype);let o=Object.entries(r);o=o.filter(t=>"function"==typeof t[1].value);let i=[t,e];return i=i.flat(),i=new Set(i),o=o.filter(t=>!i.has(t[0])),o=o.map(t=>{return n.prototype[t[0]]}),o}function ir(t){return t=t.map(e=>{function t(...t){var n=e.apply(this,t);return this.et.dispatch(e.name,{params:t,rslt:n}),n}return er(t,e.name),t})}function ur(r,t,o){t.forEach((t,n)=>{function e(t){this.et.addEventListener(o[n],t)}er(e,o[n]),r.prototype[t]=e})}function lr(n,t){t.forEach(t=>{n.prototype[t.name]=t})}function fr(t,n){var e=Object.fromEntries(n.map(t=>[t,t]));e=e,t.prototype.EVENTS=e,ur(t,n.map(t=>"regis_$"+t+"$_handler"),n);var r,o,e=n.map(t=>"rm_$"+t+"$_handler");return r=t,o=n,e.forEach((t,n)=>{function e(t){this.et.removeEventListener(o[n])}er(e,o[n]),r.prototype[t]=e}),t}const{reactivize:cr,add_cumethods_to_rcls:ar,CMMN_METHODS_FILTER:sr}={CMMN_METHODS_FILTER:["constructor"],get_methods_from_pcls:or,creat_inherit_methods_for_rcls:ir,add_listeners_to_rcls:fr,add_cumethods_to_rcls:function(t,n,e){return lr(t,ir(e)),t=fr(t,n)},reactivize:function(t,n,e){let r=ir(or(t,n,e));return e=function(t){var n="Reactive"+t.name;class e extends t{#et=new rr;get et(){return this.#et}}return er(e,n),e}(t),t=r.map(t=>t.name),lr(e,r),e=fr(e,t)}};Ee=cr(Array,[],sr);ar(Ee,["get_item","set_item"],[function(t){return this[t]},function(t,n){return this[t]=n}]);const _r=Object.getOwnPropertyDescriptors;function hr(n,e,r){let o=!1,i;for(let t=0;t<n.length;t++){var u=n[t];if(l=e,f=r,(u=u)instanceof String||u instanceof Array?u.includes(l):u instanceof Set?u.has(l):u instanceof RegExp?u.test(l):u instanceof Function&&(void 0===_r(u).prototype||_r(u).includes("arguments"))?u(l,f):u===l){o=!0,i=t;break}}var l,f;return o?i:n.length}function mr(n,e){let r=[],o,i,u;if(0===n.length)return[];o=hr(e,n[0],0),i=0;for(let t=u=1;t<n.length;t++){var l=hr(e,n[t],t);l===o?u+=1:(r.push([i,u,o]),i=u,u+=1,o=l)}return r.push([i,u,o]),r}function pr(n,e,r,o,i,u){let l=new Map;var t=n.length;u=u??t;let f=i=i??0;for(let t=i;t<u;t++)o(r,n[t])&&(n[f]=n[t],l.set(t,f),f+=1);for(let t=f;t<u;t++)n[t]=e;return l}const vr=Object.getOwnPropertyDescriptors;function dr(t,n,e){return t instanceof String||t instanceof Array?t.includes(n):t instanceof Set?t.has(n):t instanceof RegExp?t.test(n):t instanceof Function&&(void 0===vr(t).prototype||vr(t).includes("arguments"))?t(n,e):t===n}function gr(t,n){let e=n.map(t=>[]);return e.unshift([[null,-1]]),e}function yr(t,n){let e=[],r=t.length-1;for(;null!==n[0];)e.unshift(n[1]),r-=1,n=t[r][n[0]];return e}function br(t,n,e,r,o){if(dr(e[o],n[r],r)){var i=t[o];let n=t[o+1];for(let t=0;t<i.length;t++)n.push([t,r])}}function wr(e,r){var o=gr(0,r);for(let n=0;n<e.length;n++){for(let t=0;t<r.length-1;t++)br(o,e,r,n,t);br(o,e,r,n,r.length-1)}return function(n){let t=n[n.length-1];return t.map(t=>yr(n,t))}(o)}function*Or(e,r){var o=gr(0,r);for(let n=0;n<e.length;n++){for(let t=0;t<r.length-1;t++)br(o,e,r,n,t);var t=r.length-1;if(dr(r[t],e[n],n)){var i=o[t];o[1+t];for(let t=0;t<i.length;t++)ele=[t,n],yield yr(o,ele)}}}const jr={init:0,quoted:1,0:"init",1:"quoted"};return{ary_init:n,ary_bsc:l,ary_findiv:g,ary_findi:k,ary_findv:F,ary_indexof:W,ary_prop:Z,ary_fpop:at,ary_ipop:st,ary_vpop:mt,ary_frm:xt,ary_irm:At,ary_vrm:kt,ary_map:qt,ary_sort:$t,ary_fslc:Yt,ary_vslc:nn,ary_swap:on,ary_irplc:ln,ary_frplc:gn,ary_vrplc:wn,ary_grp:xn,ary_desc:Pn,ary_cll:qn,ary_com:Dn,ary_sld:$n,ary_cmp:Vn,ary_loc:Yn,ary_uniq:te,ary_trans:ie,ary_span:ae,ary_ftrim:me,ary_vtrim:de,ary_dvd:ye,ary_setter:je,ary_fast:Tt,ary_callable:Ae,ary_sec:Se,ary_clu:qe,ary_nonest_visitor:Le,ary_mole:ze,ary_sp:{all:mr,cond:function(t,n){let e=mr(t,n);return e.map(t=>n[t[2]])},rng:function(t,n){let e=mr(t,n);return e.map(t=>[t[0],t[1]])},slc:function(n,t){let e=mr(n,t);return e.map(t=>n.slice(t[0],t[1]))},join:function(n,t,e=""){let r=mr(n,t);return r.map(t=>n.slice(t[0],t[1]).join(e))}},ary_defrag:{defrag:function(t,n=void 0,e=void 0,r=void 0){return pr(t,n,n,(t,n)=>n!==t,e,r)},defrag_with_st:function(t,n,e=void 0,r=void 0,o=void 0){return pr(t,e,n,(t,n)=>!t.has(n),r,o)}},ary_mch:{po_all_pos:wr,po_all_match:(n,t)=>wr(n,t).map(t=>t.map(t=>n[t])),po_gen_pos:Or,po_gen_match:function*(n,t){var e;for(e of Or(n,t))yield e.map(t=>n[t])},po_is_match:function(t,n){var e;for(e of Or(t,n))return!0;return!1}},ary_lrq:{parse:function(t,n){const{name:e,type:r,agg_func:o,is_lq:i,is_rq:u,is_rq_of:l}=n;let f=function(r,t,o){class n{constructor(t,n,e){this.type=o,this.lq=n,this.rq=e,this.content=r(t)}}return Object.defineProperty(n,"name",{value:t}),n}(o,e,r),c,a,s=[],_=[];var h,m;if(0===t.length)return[s,[]];n=t[0],i(n)?(c=jr.quoted,_.push(n),a=n):(c=jr.init,s.push(n));for(h of t=t.slice(1))c===jr.init?i(h)?(c=jr.quoted,_.push(h),a=h):s.push(h):u(h)&&l(h,a)?(_.push(h),m=_.length,m=new f(_.slice(1,m-1),a,h),s.push(m),a=void 0,_=[],c=jr.init):_.push(h);return[s,_]},CFG_TEMPLATE:`{
    name:"",  //any string
    type:0,   //any int32 number
    agg_func:(content_ary) => {/*...*/},
    is_raw:r=>{/*return boolean*/},
    is_lq:(r)=> {/*return boolean*/},
    is_rq:(r)=> {/*return boolean*/},
    is_lq_of:(l,r) => {/*return boolean*/},
    is_rq_of:(r,l) => {/*return boolean*/},
}`},RArray:Ee}});